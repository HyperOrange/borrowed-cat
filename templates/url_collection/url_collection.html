{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'url_collection/url_collection.css' %}">

<div class="urlc-container">

  <!-- 상단 헤더 -->
  <div class="urlc-header">
    <a href="{% url 'team:main_page' team.unique_url_token %}" class="back-btn">←</a>
    <span class="header-title">{{ team.team_name }} 창고</span>
  </div>

  <!-- 상단 버튼 -->
  <div class="urlc-top-btn">
    <button class="main-btn">창고</button>
  </div>

  <!-- 고양이 이미지 -->
  <div class="urlc-cat">
    <img src="{% static 'img/cat.png' %}" alt="고양이" />
  </div>

  <!-- 구분선 -->
  <div class="urlc-divider"></div>

  <!-- URL 카드 리스트 -->
  <div class="urlc-grid">
    {% for item in items %}
    <div class="urlc-card">
      <form method="post" action="{% url 'url_collection:delete' team.unique_url_token item.pk %}">
        {% csrf_token %}
        <button class="delete-btn" onclick="return confirm('삭제하시겠습니까?')">삭제</button>
      </form>
      <a href="{{ item.url }}" target="_blank" rel="noopener">
        <img src="{{ item.favicon_url }}" class="favicon" alt="{{ item.name }}">
      </a>
    </div>
    {% empty %}
    <p class="empty-text">저장된 링크가 없습니다.</p>
    {% endfor %}

    <!-- 추가 버튼 -->
    <div class="urlc-card add-card">
      <a href="{% url 'url_collection:add' team.unique_url_token %}">+</a>
    </div>
  </div>

</div>
{% endblock %}
